version: '3.4'
services:
  archipel.public.dappnode.eth:
    build: ./build
    image: 'archipel.public.dappnode.eth:0.0.1'
    volumes:
      - 'data:/root/chain/data'
      - '/var/run/docker.sock:/var/run/docker.sock'
    environment:
      - ARCHIPEL_NODE_ALIAS=$ARCHIPEL_NODE_ALIAS
      - ARCHIPEL_KEY_SEED=$ARCHIPEL_KEY_SEED
      - ARCHIPEL_AUTHORITIES_SR25519_LIST=$ARCHIPEL_AUTHORITIES_SR25519_LIST
      - ARCHIPEL_AUTHORITIES_ED25519_LIST=$ARCHIPEL_AUTHORITIES_ED25519_LIST
      - ARCHIPEL_CHAIN_ADDITIONAL_PARAMS=$ARCHIPEL_CHAIN_ADDITIONAL_PARAMS
      - ARCHIPEL_CHAIN_SUDO=$ARCHIPEL_CHAIN_SUDO
      - SERVICE=$SERVICE
      - POLKADOT_NAME=$POLKADOT_NAME
      - POLKADOT_IMAGE=$POLKADOT_IMAGE
      - POLKADOT_PREFIX=$POLKADOT_PREFIX
      - POLKADOT_KEY_GRAN=$POLKADOT_KEY_GRAN
      - POLKADOT_KEY_BABE=$POLKADOT_KEY_BABE
      - POLKADOT_KEY_ACCO=$POLKADOT_KEY_ACCO
      - POLKADOT_KEY_IMON=$POLKADOT_KEY_IMON
      - POLKADOT_KEY_AUDI=$POLKADOT_KEY_AUDI
    restart: always
volumes:
  data: {}
